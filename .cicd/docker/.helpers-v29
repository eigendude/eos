set -eo pipefail

function fold-execute() {
    ${TRAVIS:-false} && echo -en "travis_fold:start:$(echo $@)\r" | true
    echo "--- Executing: $@"
    "$@"
    ret_code=$?
    echo "Return Code: $ret_code"
    [ $ret_code -eq 0 ] || exit "${ret_code}"
    ${TRAVIS:-false} && echo -en "travis_fold:end:$(echo $@)\r" || true
}